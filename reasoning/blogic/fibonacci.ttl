# -----------------
# Fibonacci numbers
# -----------------
#
# See https://en.wikipedia.org/wiki/Fibonacci_number

@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/ns#>.

(_:X _:Y) log:onNegativeSurface (
    () log:negativeTriple (() :fibonacci (_:X _:Y))
    (_:X 0 1) :fib _:Y
).

(_:A _:B) log:onNegativeSurface (
    () log:negativeTriple ((0 _:A _:B) :fib _:A)
).

(_:A _:B) log:onNegativeSurface (
    () log:negativeTriple ((1 _:A _:B) :fib _:B)
).

(_:A _:B _:C _:D _:X _:Y) log:onNegativeSurface (
    () log:negativeTriple ((_:X _:A _:B) :fib _:Y)
    _:X math:greaterThan 1
    (_:X 1) math:difference _:C
    (_:A _:B) math:sum _:D
    (_:C _:B _:D) :fib _:Y
).

# query
(_:X) log:onQuerySurface (
    () :fibonacci (1 _:X)
).

(_:X) log:onQuerySurface (
    () :fibonacci (2 _:X)
).

(_:X) log:onQuerySurface (
    () :fibonacci (3 _:X)
).

(_:X) log:onQuerySurface (
    () :fibonacci (91 _:X)
).

(_:X) log:onQuerySurface (
    () :fibonacci (283 _:X)
).

(_:X) log:onQuerySurface (
    () :fibonacci (3674 _:X)
).
