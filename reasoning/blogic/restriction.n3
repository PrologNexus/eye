# -----------------------
# OWL restriction example
# -----------------------
#
# See slide 33 example from https://www.slideshare.net/PatHayes/blogic-iswc-2009-invited-talk

@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/ns#>.

# owl restriction
:aaa owl:onProperty :bbb.
:aaa owl:allValuesFrom :ccc.

# the following 2 triples should entail :yyy a :ccc.
#:xxx a :aaa.
#:xxx :bbb :yyy.

# the following codex should entail :xxx a :aaa.
(?y) log:onNegativeSurface {
    :xxx :bbb ?y.
    () log:onNegativeSurface {
        ?y a :ccc.
    }.
}.

# owl:allValuseFrom description logic
(?a ?b ?c) log:onNegativeSurface {
    ?a owl:onProperty ?b.
    ?a owl:allValuesFrom ?c.
    () log:onNegativeSurface {
        (?x ?y) log:onNegativeSurface {
            ?x a ?a.
            ?x ?b ?y.
            () log:onNegativeSurface {
                ?y a ?c.
            }.
        }.
        (?x) log:onNegativeSurface {
            (?y) log:onNegativeSurface {
                ?x ?b ?y.
                () log:onNegativeSurface {
                    ?y a ?c.
                }.
            }.
            () log:onNegativeSurface {
                ?x a ?a.
            }.
        }.
    }.
}.

# query
(?S ?C) log:onQuerySurface {
    ?S a ?C.
}.
