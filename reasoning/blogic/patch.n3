@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix solid: <http://www.w3.org/ns/solid/terms#>.
@prefix ex: <http://www.example.org/terms#>.

# sample data
ex:pers001 ex:familyName "Garcia".
ex:pers001 ex:givenName "Claudia".
ex:pers002 ex:familyName "Cardinale".
ex:pers002 ex:givenName "Claudia".

# patch surface
(_rename _where _inserts _deletes) log:onNegativeSurface {
    <../n3patch/patch.n3> log:semantics {
        _rename a solid:InsertDeletePatch;
            solid:where _where;
            solid:inserts _inserts;
            solid:deletes _deletes.
    }.
    _where log:callWithCleanup true.
    _deletes log:becomes _inserts.
    () log:onNegativeSurface {
    }.
}.

# query
(_Person _familyName _givenName) log:onQuerySurface {
    _Person ex:familyName _familyName;
        ex:givenName _givenName.
}.
