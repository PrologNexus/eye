@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix solid: <http://www.w3.org/ns/solid/terms#>.
@prefix ex: <http://www.example.org/terms#>.
@prefix skolem: <http://eyereasoner.github.io/.well-known/genid/d7882a29-44b8-4cbc-bc70-3bd11fba1fdb#>.

# sample data
ex:pers001 ex:familyName "Garcia".
ex:pers001 ex:givenName "Claudia".
ex:pers002 ex:familyName "Cardinale".
ex:pers002 ex:givenName "Claudia".

# patch surface
(skolem:rename skolem:where skolem:inserts skolem:deletes) log:onNegativeSurface {
    <../n3patch/patch.n3> log:semantics {
        skolem:rename a solid:InsertDeletePatch;
            solid:where skolem:where;
            solid:inserts skolem:inserts;
            solid:deletes skolem:deletes.
    }.
    skolem:where log:callWithCleanup true.
    skolem:deletes log:becomes skolem:inserts.
    () log:onNegativeSurface {
    }.
}.

# query
(skolem:Person skolem:familyName skolem:givenName) log:onQuerySurface {
    skolem:Person ex:familyName skolem:familyName;
        ex:givenName skolem:givenName.
}.
