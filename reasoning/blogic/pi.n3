# Calculate pi using Nilakantha series
# See http://www.wikihow.com/Calculate-Pi

@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix : <http://eyereasoner.github.io/eye/reasoning#>.
@prefix skolem: <http://eyereasoner.github.io/.well-known/genid/d7882a29-44b8-4cbc-bc70-3bd11fba1fdb#>.

(skolem:N skolem:Pi skolem:P skolem:A) log:onNegativeSurface {
    () log:onNegativeSurface <<(skolem:N skolem:Pi) :pi true>>.
    (1 skolem:N 0 skolem:P 1) :pi true.
    (4 skolem:P) math:product skolem:A.
    (3 skolem:A) math:sum skolem:Pi.
}.

(skolem:N skolem:P skolem:S) log:onNegativeSurface {
    () log:onNegativeSurface <<(skolem:N skolem:N skolem:P skolem:P skolem:S) :pi true>>.
}.

(skolem:K skolem:N skolem:P0 skolem:P skolem:S skolem:K1 skolem:K2 skolem:P1 skolem:S1 skolem:A skolem:B skolem:C skolem:D) log:onNegativeSurface {
    () log:onNegativeSurface <<(skolem:K skolem:N skolem:P0 skolem:P skolem:S) :pi true>>.
    skolem:K math:notEqualTo skolem:N.
    (skolem:K 1) math:sum skolem:K1.
    (2 skolem:K) math:product skolem:K2.
    (skolem:K2 1) math:sum skolem:A.
    (skolem:K2 2) math:sum skolem:B.
    (skolem:K2 skolem:A skolem:B) math:product skolem:C.
    (skolem:S skolem:C) math:quotient skolem:D.
    (skolem:P0 skolem:D) math:sum skolem:P1.
    skolem:S math:negation skolem:S1.
    (skolem:K1 skolem:N skolem:P1 skolem:P skolem:S1) :pi true.
}.

# query
(skolem:Pi) log:onQuerySurface {
    (50000 skolem:Pi) :pi true.
}.
