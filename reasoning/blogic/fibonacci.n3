# -----------------
# Fibonacci numbers
# -----------------
#
# See https://en.wikipedia.org/wiki/Fibonacci_number

@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/ns#>.

(skolem:X skolem:Y) log:onNegativeSurface {
    () log:onNegativeSurface <<skolem:X :fibonacci skolem:Y>>.
    (skolem:X 0 1) :fib skolem:Y.
}.

(skolem:A skolem:B) log:onNegativeSurface {
    () log:onNegativeSurface <<(0 skolem:A skolem:B) :fib skolem:A>>.
}.

(skolem:A skolem:B) log:onNegativeSurface {
    () log:onNegativeSurface <<(1 skolem:A skolem:B) :fib skolem:B>>.
}.

(skolem:A skolem:B skolem:C skolem:D skolem:X skolem:Y) log:onNegativeSurface {
    () log:onNegativeSurface <<(skolem:X skolem:A skolem:B) :fib skolem:Y>>.
    skolem:X math:greaterThan 1.
    (skolem:X 1) math:difference skolem:C.
    (skolem:A skolem:B) math:sum skolem:D.
    (skolem:C skolem:B skolem:D) :fib skolem:Y.
}.

# query
(skolem:X) log:onQuerySurface {
    1 :fibonacci skolem:X.
}.

(skolem:X) log:onQuerySurface {
    2 :fibonacci skolem:X.
}.

(skolem:X) log:onQuerySurface {
    3 :fibonacci skolem:X.
}.

(skolem:X) log:onQuerySurface {
    91 :fibonacci skolem:X.
}.

(skolem:X) log:onQuerySurface {
    283 :fibonacci skolem:X.
}.

(skolem:X) log:onQuerySurface {
    3674 :fibonacci skolem:X.
}.
