@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/ns#>.

# sample data
:n1 :p1 :n2; a :C1.
:n1 :p2 :n3.
:n1 :p3 :n4.
:n2 :p2 :n3.
:n3 :p4 :n5; a :C2.
:n3 :p5 :n6.
:n3 :p2 :n1.
:n6 :p6 :n7; a :C3.

# categorize
(skolem:A skolem:B skolem:C skolem:D) log:onNegativeSurface {
    skolem:A a skolem:B.
    skolem:A skolem:C skolem:D.
    () log:onNegativeSurface {
        <<skolem:A skolem:C skolem:D>> :category skolem:B.
    }.
}.

(skolem:A skolem:B skolem:C skolem:D skolem:E skolem:F skolem:G skolem:H) log:onNegativeSurface {
    <<skolem:A skolem:B skolem:C>> :category skolem:D.
    skolem:C skolem:E skolem:F.
    (skolem:G {skolem:C a skolem:G} ()) log:collectAllIn skolem:H.
    () log:onNegativeSurface {
        <<skolem:C skolem:E skolem:F>> :category skolem:D.
    }.
}.

# query
(skolem:A skolem:B) log:onQuerySurface {
    skolem:A :category skolem:B.
}.
