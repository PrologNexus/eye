# ---------------
# Towers of Hanoi
# ---------------
#
# See https://en.wikipedia.org/wiki/Tower_of_Hanoi
# Taken from the book "The Art of Prolog" by Leon Sterling and Ehud Shapiro

@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix list: <http://www.w3.org/2000/10/swap/list#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/#>.

# M is the sequence of moves to move N disks from X to Y using Z as intermediary
(_:N _:X _:Y _:Z _:M _:N1 _:M1 _:M2) log:onNegativeSurface (log:and
    () log:onNegativeComponentSurface (log:and
        (_:N _:X _:Y _:Z) :moves _:M
    )
    _:N math:greaterThan 1
    (_:N 1) math:difference _:N1
    (_:N1 _:X _:Z _:Y) :moves _:M1
    (_:N1 _:Z _:Y _:X) :moves _:M2
    (_:M1 ((_:X _:Y)) _:M2) list:append _:M
).

(_:X _:Y _:Z) log:onNegativeSurface (log:and
    () log:onNegativeComponentSurface (log:and
        (1 _:X _:Y _:Z) :moves ((_:X _:Y))
    )
).

# query
(_:M) log:onQuerySurface (log:and
    (6 :left :right :center) :moves _:M
).
