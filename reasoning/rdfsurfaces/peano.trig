# ----------------
# Peano arithmetic
# ----------------
#
# See https://en.wikipedia.org/wiki/Peano_axioms

@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <http://example.org/#>.

# add
(_:A) log:nand _:bng_1.
_:bng_2 a log:Component.

_:bng_1 {
    () log:nand _:bng_2.
}

_:bng_2 {
    (_:A 0) :add _:A.
}

(_:A _:B _:C) log:nand _:bng_3.
_:bng_4 a log:Component.

_:bng_3 {
    () log:nand _:bng_4.
    (_:A _:B) :add _:C.
}

_:bng_4 {
    (_:A (:s _:B)) :add (:s _:C).
}

# multiply
(_:A) log:nand _:bng_5.
_:bng_6 a log:Component.

_:bng_5 {
    () log:nand _:bng_6.
}

_:bng_6 {
    (_:A 0) :multiply 0.
}

(_:A _:B _:C _:D) log:nand _:bng_7.
_:bng_8 a log:Component.

_:bng_7 {
    () log:nand _:bng_8.
    (_:A _:B) :multiply _:D.
    (_:A _:D) :add _:C.
}

_:bng_8 {
    (_:A (:s _:B)) :multiply _:C.
}

# factorial
(_:A _:B) log:nand _:bng_9.
_:bng_10 a log:Component.

_:bng_9 {
    () log:nand _:bng_10.
    (_:A (:s 0)) :fac _:B.
}

_:bng_10 {
    _:A :factorial _:B.
}

(_:A) log:nand _:bng_11.
_:bng_12 a log:Component.

_:bng_11 {
    () log:nand _:bng_12.
}

_:bng_12 {
    (0 _:A) :fac _:A.
}

(_:A _:B _:C _:D) log:nand _:bng_13.
_:bng_14 a log:Component.

_:bng_13 {
    () log:nand _:bng_14.
    (_:B (:s _:A)) :multiply _:D.
    (_:A _:D) :fac _:C.
}

_:bng_14 {
    ((:s _:A) _:B) :fac _:C.
}

# query
(_:A _:B _:C) log:nand _:bng_15.
_:bng_16 a log:Answer.

_:bng_15 {
    ((:s 0) (:s (:s 0))) :add _:A.
    (_:A (:s (:s 0))) :multiply _:B.
    _:B :factorial _:C.
    () log:nand _:bng_16.
}

_:bng_16 {
    :result :is _:C.
}
