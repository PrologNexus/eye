# -------------------
# Derived statement 2
# -------------------

@prefix graph: <http://www.w3.org/2000/10/swap/graph#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix var: <http://www.w3.org/2000/10/swap/var#>.
@prefix : <#>.

# fact
:my :graph _:bng_1.

_:bng_1 {
    :s1 :p1 :o1.
    :s2 :p2 :o2.
}

# rule
_:bng_2 log:implies _:bng_3.

_:bng_2 {
    :my :graph var:GRAPH.
}

_:bng_3 {
    var:GRAPH graph:statement _:bng_4.
}

_:bng_4 {
    :s3 :p3 :o3.
    :s4 :p4 :o4.
}

# query should not extend _:bng_1 
_:bng_5 log:query _:bng_5.

_:bng_5 {
    var:S graph:statement var:O.
}
