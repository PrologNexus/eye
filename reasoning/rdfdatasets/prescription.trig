# -----------------------
# Medication prescription
# -----------------------

@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix : <#>.

# patient Ann
:Ann :has :Fever.
() log:onNegativeSurface _:bng_1.
() log:onNegativeSurface _:bng_2.

_:bng_1 {
    :Ann :has :AllergyForAspirin.
}

_:bng_2 {
    :Ann :has :ActivePepticUlcerDisease.
}

# patient Joe
:Joe :has :AcuteMyocardialInfarction.
:Joe :has :AllergyForAspirin.
() log:onNegativeSurface _:bng_3.
() log:onNegativeSurface _:bng_4.
() log:onNegativeSurface _:bng_5.

_:bng_3 {
    :Joe :has :ActivePepticUlcerDisease.
}

_:bng_4 {
    :Joe :has :SevereAsthma.
}

_:bng_5 {
    :Joe :has :ChronicObstructivePulmonaryDisease.
}

# medication prescription logic
(_:WHO) log:onNegativeSurface _:bng_6.
(_:WHO) log:onNegativeSurface _:bng_7.
(_:WHO) log:onNegativeSurface _:bng_8.

_:bng_6 {
    _:WHO :has :Fever.
    () log:onNegativeSurface _:bng_10.
    () log:onNegativeSurface _:bng_11.
    () log:onNegativeSurface _:bng_12.
}

_:bng_7 {
    _:WHO :has :AcuteMyocardialInfarction.
    () log:onNegativeSurface _:bng_13.
    () log:onNegativeSurface _:bng_14.
    () log:onNegativeSurface _:bng_15.
}

_:bng_8 {
    _:WHO :has :AcuteMyocardialInfarction.
    () log:onNegativeSurface _:bng_16.
    () log:onNegativeSurface _:bng_17.
    () log:onNegativeSurface _:bng_18.
}

_:bng_10 {
    _:WHO :has :AllergyForAspirin.
}

_:bng_11 {
    _:WHO :has :ActivePepticUlcerDisease.
}

_:bng_12 {
    _:WHO :isPrescribed :aspirinHighDose.
}

_:bng_13 {
    _:WHO :has :AllergyForAspirin.
}

_:bng_14 {
    _:WHO :has :ActivePepticUlcerDisease.
}

_:bng_15 {
    _:WHO :isPrescribed :aspirinLowDose.
}

_:bng_16 {
    _:WHO :has :SevereAsthma.
}

_:bng_17 {
    _:WHO :has :ChronicObstructivePulmonaryDisease.
}

_:bng_18 {
    _:WHO :isPrescribed :betaBlocker.
}

# query
(_:WHO _:MEDICATION) log:onNegativeSurface _:bng_9.

_:bng_9 {
    _:WHO :isPrescribed _:MEDICATION.
    () log:onNegativeAnswerSurface _:bng_19.
}

_:bng_19 {
    _:WHO :isPrescribed _:MEDICATION.
}
