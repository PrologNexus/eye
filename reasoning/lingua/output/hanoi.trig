@prefix : <http://example.org/#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix var: <http://www.w3.org/2000/10/swap/var#>.
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix list: <http://www.w3.org/2000/10/swap/list#>.

# answer
(6 :left :right :center) :moves ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)).

# explanation
(_:bng_1 log:isImpliedBy true) log:explain ((var:X :left) (var:Y :center) (var:Z :right)).
(_:bng_1 log:isImpliedBy true) log:explain ((var:X :center) (var:Y :right) (var:Z :left)).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 2) (var:N1 1) (var:X :left) (var:Z :center) (var:Y :right) (var:M1 ((:left :center))) (var:M2 ((:center :right))) (var:M ((:left :center) (:left :right) (:center :right)))).
(_:bng_1 log:isImpliedBy true) log:explain ((var:X :right) (var:Y :left) (var:Z :center)).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 2) (var:N1 1) (var:X :right) (var:Z :left) (var:Y :center) (var:M1 ((:right :left))) (var:M2 ((:left :center))) (var:M ((:right :left) (:right :center) (:left :center)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 3) (var:N1 2) (var:X :left) (var:Z :right) (var:Y :center) (var:M1 ((:left :center) (:left :right) (:center :right))) (var:M2 ((:right :left) (:right :center) (:left :center))) (var:M ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 2) (var:N1 1) (var:X :center) (var:Z :right) (var:Y :left) (var:M1 ((:center :right))) (var:M2 ((:right :left))) (var:M ((:center :right) (:center :left) (:right :left)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 3) (var:N1 2) (var:X :center) (var:Z :left) (var:Y :right) (var:M1 ((:center :right) (:center :left) (:right :left))) (var:M2 ((:left :center) (:left :right) (:center :right))) (var:M ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 4) (var:N1 3) (var:X :left) (var:Z :center) (var:Y :right) (var:M1 ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center))) (var:M2 ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right))) (var:M ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 3) (var:N1 2) (var:X :right) (var:Z :center) (var:Y :left) (var:M1 ((:right :left) (:right :center) (:left :center))) (var:M2 ((:center :right) (:center :left) (:right :left))) (var:M ((:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 4) (var:N1 3) (var:X :right) (var:Z :left) (var:Y :center) (var:M1 ((:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left))) (var:M2 ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center))) (var:M ((:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 5) (var:N1 4) (var:X :left) (var:Z :right) (var:Y :center) (var:M1 ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right))) (var:M2 ((:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center))) (var:M ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 4) (var:N1 3) (var:X :center) (var:Z :right) (var:Y :left) (var:M1 ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right))) (var:M2 ((:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left))) (var:M ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 5) (var:N1 4) (var:X :center) (var:Z :left) (var:Y :right) (var:M1 ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left))) (var:M2 ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right))) (var:M ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)))).
(_:bng_2 log:isImpliedBy _:bng_3) log:explain ((var:N 6) (var:N1 5) (var:X :left) (var:Z :center) (var:Y :right) (var:M1 ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center))) (var:M2 ((:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right))) (var:M ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)))).
(_:bng_4 log:query _:bng_4) log:explain ((var:M ((:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:right :center) (:left :center) (:right :left) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right) (:left :center) (:right :left) (:right :center) (:left :center) (:left :right) (:center :right) (:center :left) (:right :left) (:center :right) (:left :center) (:left :right) (:center :right)))).

_:bng_1 {
    (1 var:X var:Y var:Z) :moves ((var:X var:Y)).
}

_:bng_2 {
    (var:N var:X var:Y var:Z) :moves var:M.
}

_:bng_3 {
    var:N math:greaterThan 1 .
    (var:N 1) math:difference var:N1.
    (var:N1 var:X var:Z var:Y) :moves var:M1.
    (var:N1 var:Z var:Y var:X) :moves var:M2.
    (var:M1 ((var:X var:Y)) var:M2) list:append var:M.
}

_:bng_4 {
    (6 :left :right :center) :moves var:M.
}
