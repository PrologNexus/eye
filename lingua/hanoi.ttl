@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix list: <http://www.w3.org/2000/10/swap/list#>.
@prefix lingua: <http://www.w3.org/2000/10/swap/lingua#>.
@prefix var: <http://eyereasoner.github.io/.well-known/genid/var#>.
@prefix : <http://example.org/ns#>.

# var:M is the sequence of moves to move var:N disks from var:X to var:Y using var:Z as intermediary
:hanoi_rule1 a lingua:BackwardRule;
    lingua:conclusion (
        (var:N var:X var:Y var:Z) :moves var:M
    );
    lingua:premise (
        var:N math:greaterThan 1
        (var:N 1) math:difference var:N1
        (var:N1 var:X var:Z var:Y) :moves var:M1
        (var:N1 var:Z var:Y var:X) :moves var:M2
        (var:M1 ((var:X var:Y)) var:M2) list:append var:M
    ).

:hanoi_rule2 a lingua:BackwardRule;
    lingua:conclusion (
        (1 var:X var:Y var:Z) :moves ((var:X var:Y))
    );
    lingua:premise ().

# query
:hanoi_query a lingua:QueryRule;
    lingua:premise (
        (7 :left :right :center) :moves var:M
    );
    lingua:conclusion (
        (7 :left :right :center) :moves var:M
    ).
