@prefix rule: <http://eyereasoner.github.io/rule#>.
@prefix : <http://example.org/ns#>.

# add
[] a rule:BackwardRule;
    rule:vars (
        _:A
    );
    rule:conclusion (
        ((_:A 0) :add _:A)
    );
    rule:premise ().

[] a rule:BackwardRule;
    rule:vars (
        _:A
        _:B
        _:C
    );
    rule:premise (
        ((_:A _:B) :add _:C)
    );
    rule:conclusion (
        ((_:A (:s _:B)) :add (:s _:C))
    ).

# multiply
[] a rule:BackwardRule;
    rule:vars (
        _:A
    );
    rule:conclusion (
        ((_:A 0) :multiply 0)
    );
    rule:premise ().

[] a rule:BackwardRule;
    rule:vars (
        _:A
        _:B
        _:C
        _:D
    );
    rule:conclusion (
        ((_:A (:s _:B)) :multiply _:C)
    );
    rule:premise (
        ((_:A _:B) :multiply _:D)
        ((_:A _:D) :add _:C)
    ).

# factorial
[] a rule:BackwardRule;
    rule:vars (
        _:A
        _:B
    );
    rule:conclusion (
        (_:A :factorial _:B)
    );
    rule:premise (
        ((_:A (:s 0)) :fac _:B)
    ).

[] a rule:BackwardRule;
    rule:vars (
        _:A
    );
    rule:conclusion (
        ((0 _:A) :fac _:A)
    );
    rule:premise ().

[] a rule:BackwardRule;
    rule:vars (
        _:A
        _:B
        _:C
        _:D
    );
    rule:conclusion (
        (((:s _:A) _:B) :fac _:C)
    );
    rule:premise (
        ((_:B (:s _:A)) :multiply _:D)
        ((_:A _:D) :fac _:C)
    ).

# query
[] a rule:QueryRule;
    rule:vars (
        _:A
        _:B
        _:C
    );
    rule:premise (
        (((:s 0) (:s (:s 0))) :add _:A)
        ((_:A (:s (:s 0))) :multiply _:B)
        (_:B :factorial _:C)
    );
    rule:conclusion (
        (:result :is _:C)
    ).
